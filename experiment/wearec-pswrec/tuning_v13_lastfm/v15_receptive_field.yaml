# ============================================================================
# V15 Receptive-Field Tuning — LastFM (V13 only, no new model)
# ============================================================================
#
# Shrink the filterbank so it fits inside the sequence window (N=50) without
# eating padding noise. Phase and magnitude are then derived only from actual
# user clicks. num_attention_heads and n_bands must equal the number of kernels.
#
# Locked (from best V13 / micro_d0p1):
#   lr: 0.001
#   hidden_dropout_prob: 0.1, attention_probs_dropout_prob: 0.2
#   phase_aux: true
#   inner_size: 256, max_seq_length: 50, hidden_size: 64, num_hidden_layers: 2
#
# Grid: 2 filterbank configs × 2 phase_aux_weight = 4 jobs
# ============================================================================

# --- Tight Convolution (Max Receptive Field = 25, fits inside N=50) ---
tight:
  band_kernel_sizes: [3, 5, 7]
  band_dilations: [1, 2, 4]
  num_attention_heads: 3
  n_bands: 3

# --- Ultra-Tight Convolution (Max Receptive Field = 13) ---
ultratight:
  band_kernel_sizes: [3, 7]
  band_dilations: [1, 2]
  num_attention_heads: 2
  n_bands: 2

# --- phase_aux_weight sweep ---
phase_aux_weight: [0.05, 0.1]

# --- Run names ---
# v15lastfm_tight_paw0p05, v15lastfm_tight_paw0p1,
# v15lastfm_ultratight_paw0p05, v15lastfm_ultratight_paw0p1

jobs: 4
model_type: pswrecv13_wof
wearec_ceiling_hr10: 0.0817
wearec_ceiling_ndcg10: 0.0440
